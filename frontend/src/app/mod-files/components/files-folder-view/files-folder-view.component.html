<div class="full-height disp-flex flex-col">

    <div class="breadcrumb small-bottom-lightgray-border flex-0 disp-flex flex-row flex-alignitems-center">
        <app-files-bread-crumb-item *ngFor="let inode of path"
                                    [inode]="inode"
                                    (open)="onOpen($event)"></app-files-bread-crumb-item>
    </div>

    <!-- <div class="flex-1 disp-flex flex-row scrollable working-area"
         (contextmenu)="folderContextMenu.show($event)">

        <div class="flex-1 scrollable"
             [appDropTarget]="currentFolder"
             [ngSwitch]="viewMode"
             (filesDropped)="onFilesDropped($event)"
             (inodesDropped)="inodeDropMenu.show($event)">

            <app-files-grid-view *ngSwitchCase="'grid'"
                                 [inodes]="inodes"
                                 [iconSize]="iconSize"
                                 [selectedINodes]="selectedINodes"
                                 (open)="onOpen($event)"
                                 (selectionChange)="onSelectionChange($event)"
                                 (filesDropped)="onFilesDropped($event)"
                                 (inodesDropped)="inodeDropMenu.show($event)"
                                 (showContextMenu)="itemContextMenu.show($event.inode, $event.orgEvt)">
            </app-files-grid-view>

            <app-files-list-view *ngSwitchCase="'list'"
                                 [inodes]="inodes"
                                 [iconSize]="iconSize"
                                 [selectedINodes]="selectedINodes"
                                 (selectionChange)="onSelectionChange($event)"
                                 (filesDropped)="onFilesDropped($event)"
                                 (inodesDropped)="inodeDropMenu.show($event)"
                                 (open)="onOpen($event)"
                                 (showContextMenu)="itemContextMenu.show($event.inode, $event.orgEvt)">
            </app-files-list-view>


            <h1 *ngSwitchDefault>
                Kein Viewer f체r den ViewMode <b>'{{viewMode}}'</b> definiert.
            </h1>
        </div>

        <app-files-item-context-menu #itemContextMenu
                                     (open)="onOpen($event)"
                                     (create)="onCreateDocument($event)"
                                     (rename)="onRename($event)"
                                     (delete)="onDelete($event)"
                                     (cut)="onCut($event)"
                                     (copy)="onCopy($event)"
                                     (link)="onLink($event)"
                                     (paste)="onPaste()"
                                     (sendToDashboard)="onSendToDashboard($event)"
                                     (showProps)="onShowProps($event)">
        </app-files-item-context-menu>



        <app-files-folder-context-menu #folderContextMenu
                                       [inode]="currentFolder"
                                       (createDocument)="onCreateDocument($event)"
                                       (paste)="onPaste()"
                                       (showProps)="onShowProps($event)"></app-files-folder-context-menu>

        <app-files-inode-drop-menu #inodeDropMenu
                                   (copy)="onCopyDroppedINodes($event)"
                                   (move)="onMoveDroppedINodes($event)"
                                   (link)="onLinkDroppedINodes($event)"></app-files-inode-drop-menu>
    </div> -->

    <div class="workspace"
         [class.grid-workspace]="viewMode === 'grid'"
         [class.list-workspace]="viewMode === 'list'"
         (click)="onDeselectAll()"
         [appDropTarget]="currentFolder"
         (filesDropped)="onFilesDropped($event)"
         (inodesDropped)="inodeDropMenu.show($event)"
         (contextmenu)="folderCtxtMenu.show($event)">

        <div *ngFor="let inode of inodes"
             [class.grid-item]="viewMode === 'grid'"
             [class.list-item]="viewMode === 'list'"
             [class.mat-elevation-z4]="isSelected(inode)"
             [appINodeDragSource]="inode"
             [appINodeDragSourceSelectedINodes]="selectedINodes"
             [appDropTarget]="inode"
             (filesDropped)="onFilesDropped($event)"
             (inodesDropped)="inodeDropMenu.show($event)"
             (click)="onOpen(inode)"
             (contextmenu)="itemCtxtMenu.show(inode, $event)">

            <div class="image"
                 [style.backgroundImage]="getINodeImage(inode)"
                 [style.height]="iconSize"
                 [style.width]="iconSize">

                <img class="link-indicator"
                     *ngIf="inode.isLink()"
                     [src]="linkIcon">
            </div>

            <div class="label"
                 [style.width]="iconSize">{{inode.name}}</div>

            <div class="selector"
                 (click)="onSelect($event, inode)">
                <mat-icon class="material-symbols-outlined">add</mat-icon>
            </div>
        </div>

    </div>

    <!-- Das Kontext-Menu f체r INodes -->
    <app-files-item-context-menu #itemCtxtMenu
                                 (open)="onOpen($event)"
                                 (create)="onCreateDocument($event)"
                                 (rename)="onRename($event)"
                                 (delete)="onDelete($event)"
                                 (cut)="onCut($event)"
                                 (copy)="onCopy($event)"
                                 (link)="onLink($event)"
                                 (paste)="onPaste()"
                                 (sendToDashboard)="onSendToDashboard($event)"
                                 (showProps)="onShowProps($event)">
    </app-files-item-context-menu>

    <!-- Das KontextMenu f체r den aktuellen Folder -->
    <app-files-folder-context-menu #folderCtxtMenu
                                   [inode]="currentFolder"
                                   (paste)="onPaste()"
                                   (showProps)="onShowProps($event)">
    </app-files-folder-context-menu>

    <app-files-inode-drop-menu #inodeDropMenu
                               (copy)="onCopyDroppedINodes($event)"
                               (move)="onMoveDroppedINodes($event)"
                               (link)="onLinkDroppedINodes($event)"></app-files-inode-drop-menu>

    <app-toolbar class="flex-0 small-top-lightgray-border"
                 *ngIf="showStatusBar">
        Gesamt: {{inodes.length}} Objekte mit {{allObjectsSize | fileSize}}
        <div *ngIf="selectedINodes.size">
            <app-toolbar-separator></app-toolbar-separator>
            {{selectedINodes.size}} Objekte mit {{selectedObjectSize | fileSize}} ausgew채hlt
        </div>
    </app-toolbar>
</div>