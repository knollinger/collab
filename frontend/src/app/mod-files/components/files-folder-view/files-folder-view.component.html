<div class="full-height disp-flex flex-col small-lightgray-border"
     (click)="onActivateView()">

    <app-files-folderview-toolbar
        class="flex-0"
        [currentFolder]="currentFolder"
        [selectedINodes]="selectedINodes"
        [selectableINodes]="selectableINodes"
        (goHome)="onGoHome()"
        (reload)="reloadEntries()"
        (selectAll)="onSelectAll()"
        (deselectAll)="onDeselectAll()"
        (paste)="onPaste()"
        (uploadFiles)="onFileUpload($event)"
        (cloudDownload)="onFileDownload()"
        (delete)="onDelete()">
    </app-files-folderview-toolbar>

    <div
         class="breadcrumb middle-left-padding small-bottom-lightgray-border flex-0 disp-flex flex-row flex-alignitems-center">
        <app-files-bread-crumb-item *ngFor="let inode of path"
                                    [inode]="inode"
                                    (open)="onOpen($event)"></app-files-bread-crumb-item>
    </div>

    <div class="flex-1 disp-flex flex-row scrollable working-area"
         (contextmenu)="contextMenu.show($event)">

        <div class="flex-1 activated-place-holder scrollable"
             [appDropTarget]="currentFolder"
             [ngSwitch]="viewMode"
             (filesDropped)="onFilesDropped($event)"
             (inodesDropped)="inodeDropMenu.show($event)">

            <app-files-grid-view *ngSwitchCase="'grid'"
                                 [class.mat-elevation-z4]="active"
                                 [inodes]="inodes"
                                 [iconSize]="iconSize"
                                 [selectedINodes]="selectedINodes"
                                 (filesDropped)="onFilesDropped($event)"
                                 (inodesDropped)="inodeDropMenu.show($event)"
                                 (open)="onOpen($event)"
                                 (create)="onCreateDocument($event)"
                                 (rename)="onRename($event)"
                                 (delete)="onDelete($event)"
                                 (cut)="onCut($event)"
                                 (copy)="onCopy($event)"
                                 (paste)="onPaste()"
                                 (showProps)="onShowProps($event)">
            </app-files-grid-view>

            <app-files-list-view *ngSwitchCase="'list'"
                                 [inodes]="inodes"
                                 [iconSize]="iconSize"
                                 [selectedINodes]="selectedINodes"
                                 (filesDropped)="onFilesDropped($event)"
                                 (inodesDropped)="inodeDropMenu.show($event)"
                                 (open)="onOpen($event)"
                                 (create)="onCreateDocument($event)"
                                 (rename)="onRename($event)"
                                 (delete)="onDelete($event)"
                                 (cut)="onCut($event)"
                                 (copy)="onCopy($event)"
                                 (paste)="onPaste()"
                                 (showProps)="onShowProps($event)">
            </app-files-list-view>

            <h1 *ngSwitchDefault>
                Kein Viewer f체r den ViewMode <b>'{{viewMode}}'</b> definiert.
            </h1>
        </div>

        <!-- Das ContextMenu f체r den Folder selbst -->
        <app-files-folder-context-menu #contextMenu
                                       [inode]="currentFolder"
                                       (createDocument)="onCreateDocument($event)"
                                       (paste)="onPaste()"
                                       (showProps)="onShowProps($event)"></app-files-folder-context-menu>

        <!-- Das Menu f체r die Auswahl der OPs bei einem INode-Drop -->
        <app-files-inode-drop-menu #inodeDropMenu
                                   (copy)="onCopyDroppedINodes($event)"
                                   (move)="onMoveDroppedINodes($event)"></app-files-inode-drop-menu>
    </div>


    <app-toolbar class="flex-0 small-top-lightgray-border">
        Gesamt: {{inodes.length}} Objekte mit {{allObjectsSize | fileSize}}
        <div *ngIf="selectedINodes.size">
            <app-toolbar-separator></app-toolbar-separator>
            {{selectedINodes.size}} Objekte mit {{selectedObjectSize | fileSize}} ausgew채hlt
        </div>
    </app-toolbar>
</div>